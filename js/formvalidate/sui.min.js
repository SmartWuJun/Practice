if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");!function(t){"use strict";var r=function(r,a){var n=this;this.options=t.extend({},t.fn.validate.defaults,a),this.$form=t(r).attr("novalidate","novalidate"),this.$form.submit(function(){return e.call(n)}),this.disabled=!1,this.$form.on("blur keyup change update","input, select, textarea",function(r){if(!n.disabled){var e=t(r.target);e.attr("disabled")||i.call(n,e)}}),this.errors={}};r.rules={},r.setRule=function(t,e,i){var a=r.rules[t];a&&!e&&(e=a.method),r.rules[t]={method:e,msg:i}},r.setMsg=function(t,e){r.setRule(t,void 0,e)},r.prototype={disable:function(){this.disabled=!0,this.hideError()},enable:function(){this.disabled=!1},showError:function(t,r,e){a.call(this,t,r,e)},hideError:function(t,r){n.call(this,t,r)}};var e=function(){if(this.disabled)return!0;var r,e;e=this,r=!1;var a=[];if(this.$form.find("input, select, textarea").each(function(){var n,s;return n=t(this),s=i.call(e,this),s&&!r&&n.focus(),s?(a.push(n),r=!0):void 0}),r)this.options.fail.call(this,a,this.$form);else{var n=this.options.success.call(this,this.$form);if(n===!1)return!1}return!r},i=function(e){for(var i=t(e),a={},o=(i.data("rules")||"").split("|"),l=i.attr("name"),u=0;u<o.length;u++)if(o[u]){var d=o[u].split("=");d[1]=d[1]||void 0,a[d[0]]=d[1]}var f=this.options.rules&&this.options.rules[l]||{};a=t.extend(a,f);var c=!1,h=null;for(var p in a){var v=a[p],m=r.rules[p];if(!m)throw new Error("未定义的校验规则："+p);var g=s(i);if(g||"required"===p){var $=!0;if($=t.isFunction(v)?v.call(this,i):m.method.call(this,g,i,v),!$){if(c=!0,h=m.msg,t.isFunction(h)&&(h=h(i,v)),"required"!==p&&(i.data("error-msg")&&(h=i.data("error-msg")),this.options.messages&&this.options.messages[l]&&(h=this.options.messages[l],t.isFunction(h)&&(h=h(i,v)),t.isArray(h)&&(h=h[1]))),"required"===p&&(i.data("empty-msg")&&(h=i.data("empty-msg")),this.options.messages&&this.options.messages[l])){var R=this.options.messages[l];t.isFunction(R)&&(R=h(i,v)),t.isArray(R)&&(h=R[0])}this.showError(i,h.replace("$0",v),p);break}c=!1,n.call(this,i,p)}else c=!1,n.call(this,i)}return c},a=function(r,e,i){i=i||"anonymous","string"==typeof r&&(r=this.$form.find("[name='"+r+"']")),r=t(r);var a=r.attr("name"),n=this.errors[a]||(this.errors[a]={}),s=n[i];s||(s=n[i]=t(this.options.errorTpl.replace("$errorMsg",e)),this.options.placeError.call(this,r,s));for(var o in n)o!==i&&n[o].hide();this.options.highlight.call(this,r,s,this.options.inputErrorClass),r.trigger("highlight")},n=function(r,e){var i=this,a=function(t){var r=i.errors[t.attr("name")];for(var e in r)i.options.unhighlight.call(i,t,r[e],i.options.inputErrorClass)};r||this.$form.find("input, select, textarea").each(function(){var r=t(this);r.attr("disabled")||a(r)}),"string"==typeof r&&(r=this.$form.find("[name='"+r+"']")),r=t(r);var n=this.errors[r.attr("name")];if(n){if(!e)return void a(r);var s=n[e];s&&(this.options.unhighlight.call(this,r,s,this.options.inputErrorClass),r.trigger("unhighlight"))}},s=function(r){var e=t(r);if(!e[0])return void 0;var i=e[0].tagName.toUpperCase(),a=(e.attr("type")||"text").toUpperCase(),n=e.attr("name"),s=e.parents("form");switch(i){case"INPUT":switch(a){case"CHECKBOX":case"RADIO":return s.find("[name='"+n+"']:checked").val();default:return e.val()}break;case"TEXTAREA":return e.val();default:return e.val()}},o=t.fn.validate;t.fn.extend({validate:function(e){var i=arguments;return this.each(function(){var a=t(this),n=a.data("validate");n||a.data("validate",n=new r(this,e)),"string"==typeof e&&n[e].apply(n,Array.prototype.slice.call(i,1))})}}),t.fn.validate.Constructor=r,t.fn.validate.defaults={errorTpl:'<div class="sui-msg msg-error help-inline">\n  <div class="msg-con">\n    <span>$errorMsg</span>\n </div>   <i class="msg-icon"></i>\n  \n</div>',inputErrorClass:"input-error",placeError:function(r,e){r=t(r);var i=r.parents(".controls-wrap");i[0]||(i=r.parents(".controls")),i[0]||(i=r.parent()),e.appendTo(i[0])},highlight:function(r,e,i){r.addClass(i),t.fn.validate.defaults.placeError(r,e),e.show()},unhighlight:function(t,r,e){r.is(":visible")&&(t.removeClass(e),r.hide())},rules:void 0,messages:void 0,success:t.noop,fail:t.noop},t.fn.validate.noConflict=function(){return t.fn.validate=o,this},t.validate=r,t(function(){t(".sui-validate").validate()})}(window.jQuery),!function(t){Validate=t.validate,trim=function(t){return t?t.replace(/^\s+/g,"").replace(/\s+$/g,""):t};var r=function(r,e){t(e);return!!trim(r)},e=function(t){var r=function(t){var r=t[0].tagName.toUpperCase(),e=t[0].type.toUpperCase();return"CHECKBOX"==e||"RADIO"==e||"SELECT"==r?"选择":"填写"};return"请"+r(t)};Validate.setRule("required",r,e);var i=function(r,e,i){var a=t(e);if(i&&"string"==typeof i){var n=a.parents("form"),s=n.find("[name='"+i+"']");return!!s.val()}return!0};Validate.setRule("prefill",i,function(t,r){var e=function(t){var r=t[0].tagName.toUpperCase(),e=t[0].type.toUpperCase();return"CHECKBOX"==e||"RADIO"==e||"SELECT"==r?"选择":"填写"};if(r&&"string"==typeof r){var i=t.parents("form"),a=i.find("[name='"+r+"']");if(!a.val())return"请先"+e(a)+(a.attr("title")||a.attr("name"))}return"错误"});var a=function(r,e,i){return r=trim(r),r==t(e).parents("form").find("[name='"+i+"']").val()};Validate.setRule("match",a,"必须与$0相同");var n=function(t){return t=trim(t),/^\d+(.\d*)?$/.test(t)};Validate.setRule("number",n,"请输入数字");var s=function(t){return t=trim(t),/^\d+$/.test(t)};Validate.setRule("digits",s,"请输入整数");var o=function(t){return/^0?1[3|4|5|7|8][0-9]\d{8,9}$/.test(trim(t))};Validate.setRule("mobile",o,"请填写正确的手机号码");var l=function(t){return/^[+]{0,1}(\d){1,3}[ ]?([-]?((\d)|[ ]){1,11})+$/.test(trim(t))};Validate.setRule("tel",l,"请填写正确的电话号码");var u=function(t){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(trim(t))};Validate.setRule("email",u,"请填写正确的email地址");var d=function(t){return/^[1-9][0-9]{5}$/.test(trim(t))};Validate.setRule("zip",d,"请填写正确的邮编");var f=function(t,r,e){e=e||"-";var i=new RegExp("^[1|2]\\d{3}"+e+"[0-2][0-9]"+e+"[0-3][0-9]$");return i.test(trim(t))};Validate.setRule("date",f,"请填写正确的日期");var c=function(t){return/^[0-2]\d:[0-6]\d$/.test(trim(t))};Validate.setRule("time",c,"请填写正确的时间");var h=function(t){var r=new RegExp("^[1|2]\\d{3}-[0-2][0-9]-[0-3][0-9] [0-2]\\d:[0-6]\\d$");return r.test(trim(t))};Validate.setRule("datetime",h,"请填写正确的日期和时间");var p=function(t){var r;return t=trim(t),r=/(http|ftp|https):\/\/([\w-]+\.)+[\w-]+\.(com|net|cn|org|me|io|info|xxx)/,/^http/.test(t)||(t="http://"+t),r.test(t)};Validate.setRule("url",p,"请填写正确的网址");var v=function(t,r,e){return trim(t).length>=e};Validate.setRule("minlength",v,"长度不能少于$0");var m=function(t,r,e){return trim(t).length<=e};Validate.setRule("maxlength",m,"长度不能超过$0");var g=function(t,r,e){return Number(t)>e};Validate.setRule("gt",g,"必须大于$0");var $=function(t,r,e){return Number(t)<e};Validate.setRule("lt",$,"必须小于$0")}(window.jQuery);