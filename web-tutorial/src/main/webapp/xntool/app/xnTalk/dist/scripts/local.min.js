!function(){"use strict";var t=require("electron").remote,e=["ui.router","xn.common","xn.service.interceptor","xn.talk.filter","xn.talk.service","xn.talk.method"],n=angular.module("myApp",e);n.value("xnConfig",{isDev:t.getGlobal("isDev"),platform:t.getGlobal("platform"),appInfo:JSON.parse(t.getGlobal("appInfo"))}),n.config(["$httpProvider",function(t){t.interceptors.push("httpInterceptor")}])}(),function(){angular.module("myApp").config(["$stateProvider","$urlRouterProvider",function(t,e){e.otherwise("/chat"),t.state("chat",{url:"/chat",templateUrl:"template/chat.html",controller:"ChatController"}).state("index",{url:"/index",templateUrl:"template/main.html",controller:"IndexController"}).state("application",{url:"/application",templateUrl:"template/application.html",controller:"ApplicationController"}).state("pan",{url:"/pan",templateUrl:"template/pan.html",controller:"PanController"})}])}(),function(){"use strict";angular.module("xn.talk.filter",[])}(),function(){"use strict";angular.module("xn.talk.method",[]).service("xnAppTool",function(){this.setCookie=function(t,e,n){var o=1,a=new Date,n=n||"/";a.setTime(a.getTime()+24*o*60*60*1e3),document.cookie=t+"="+escape(e)+";expires="+a.toGMTString()+";path="+n+";"},this.readCookie=function(t){var e,n=new RegExp("(^| )"+t+"=([^;]*)(;|$)");return(e=document.cookie.match(n))?unescape(e[2]):null},this.delCookie=function(t,e){var e=e||"/",n=readCookie(t);null!=n&&(document.cookie=t+"="+n+";expires="+new Date(0).toGMTString()+";path="+e+";")},this.clearCookie=function(t){var t=t||"/",e=document.cookie.match(/[^ =;]+(?=\=)/g);if(e)for(var n=e.length;n--;)document.cookie=e[n]+"=0;expires="+new Date(0).toUTCString()+";path="+t+";"}})}(),function(){"use strict";var t=require("electron").remote,e=require(t.getGlobal("dirname")+"/config/fun.js");angular.module("xn.talk.service",[]).config(["$httpProvider",function(t){t.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8",t.defaults.withCredentials=!0,t.defaults.useXDomain=!0}]).factory("talkService",["$http",function(t){var n=require("electron").remote.getGlobal("serveUrl"),o={};return o.login=function(o){o.method="xntalk.login";var a=e.getPostParameter(o);return t({method:"POST",url:n,data:a.data})},o.xnTalkUnionGet=function(o){o.method="xntalk.union.get";var a=e.getPostParameter(o);return t({method:"POST",url:n,data:a.data})},o.xnTalkScanLoginCreate=function(o){o.method="xntalk.scanLogin.create";var a=e.getPostParameter(o);return t({method:"POST",url:n,data:a.data})},o.xnTalkScanLoginGetCreate=function(o){o.method="xntalk.scanLogin.get";var a=e.getPostParameter(o);return t({method:"POST",url:n,data:a.data})},o.xnTalkScanLoginGetCreate=function(o){o.method="xntalk.unionByAccount.get";var a=e.getPostParameter(o);return t({method:"POST",url:n,data:a.data})},o.xnTalkGlobalSearch=function(o){o.method="xntalk.global.search";var a=e.getPostParameter(o);return t({method:"POST",url:n,data:a.data})},o.xnTalkPassportIdByUnionIdAndTenantIdGet=function(o){o.method="xntalk.passportIdByUnionIdAndTenantId.get";var a=e.getPostParameter(o);return t({method:"POST",url:n,data:a.data})},o.xnTalkAllTenantListGet=function(o){o.method="xntalk.allTenantList.get";var a=e.getPostParameter(o);return t({method:"POST",url:n,data:a.data})},o}])}(),function(){"use strict";var t=function(t){t.name="这是个应用"};angular.module("myApp").controller("ApplicationController",["$scope",t])}(),function(){"use strict";var t=function(t,e){t.vm={keyword:"",menuActive:"conversations",conversations:1},t.doSearch=function(){},t.tabChatMenu=function(e){t.vm.menuActive=e}};angular.module("myApp").controller("ChatController",["$scope","talkService",t])}(),function(){"use strict";var t=function(t){};angular.module("myApp").controller("IndexController",["$scope",t])}(),function(){"use strict";angular.module("myApp").controller("BodyController",["$scope","xnConfig","talkService","xnAppTool","dialogService",function(t,e,n,o,a){t.global={nav:1,platform:e.platform,tenant:{},showInfo:!1,appInfo:e.appInfo},t.tabNav=function(e){t.global.nav=e},t.tenantList=[],this.getAvatar=function(t){var e=/^((http|https|ftp):\/\/)?(\w(\:\w)?@)?([0-9a-z_-]+\.)*?([a-z0-9-]+\.[a-z]{2,6}(\.[a-z]{2})?(\:[0-9]{2,6})?)((\/[^?#<>\/\\*":]*)+(\?[^#]*)?(#.*)?)?$/i;return e.test(url)?url+"?imageView&thumbnail=80x80&quality=85":"images/default-icon.png"},t.xnTalkClose=function(){const t=require("electron").remote.dialog;var e={type:"question",title:"退出",buttons:["确定","取消"],defaultId:0,message:"确定要退出XNTALK吗？",detail:"",cancelId:1};t.showMessageBox(e,function(t){if(0==t){try{o.clearCookie()}catch(t){}require("electron").remote.app.quit()}})},t.xnTalkMaximize=function(){require("electron").remote.getCurrentWindow().isMaximized()?require("electron").remote.getCurrentWindow().restore():require("electron").remote.getCurrentWindow().maximize()},t.xnTalkMinimizable=function(){require("electron").remote.BrowserWindow.getFocusedWindow().minimize()},t.showInfo=function(e){t.global.showInfo=e}}])}(),function(){"use strict";var t=function(t){};angular.module("myApp").controller("PanController",["$scope",t])}();