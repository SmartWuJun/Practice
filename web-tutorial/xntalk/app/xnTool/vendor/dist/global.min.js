"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="treeControl"),function(e){"use strict";e.module("treeControl",[]).constant("treeConfig",{templateUrl:null}).directive("treecontrol",["$compile",function(n){function t(e,n){return e?n?'class="'+e+'"':e:""}function o(e,n,t){e.hasOwnProperty(n)||(e[n]=t)}return{restrict:"EA",require:"treecontrol",transclude:!0,scope:{treeModel:"=",selectedNode:"=?",selectedNodes:"=?",expandedNodes:"=?",onSelection:"&",onNodeToggle:"&",options:"=?",orderBy:"@",reverseOrder:"@",filterExpression:"=?",filterComparator:"=?"},controller:["$scope","$templateCache","$interpolate","treeConfig",function(s,i,r,l){function d(e){return!e[s.options.nodeChildren]||0===e[s.options.nodeChildren].length}function a(n,t){if(e.isArray(n)){t=t||[];for(var o=0;o<n.length;o++)t[o]=n[o]}else if(e.isObject(n)){t=t||{};for(var s in n)!hasOwnProperty.call(n,s)||"$"===s.charAt(0)&&"$"===s.charAt(1)||(t[s]=n[s])}return t||n}function c(n,t){return void 0!==n&&void 0!==t&&(n=a(n),n[s.options.nodeChildren]=[],t=a(t),t[s.options.nodeChildren]=[],e.equals(n,t))}function u(){return!0}function p(e){if(!s.options.multiSelection&&s.options.equality(e,s.selectedNode))return!0;if(s.options.multiSelection&&s.selectedNodes){for(var n=0;n<s.selectedNodes.length;n++)if(s.options.equality(e,s.selectedNodes[n]))return!0;return!1}}s.options=s.options||{},o(s.options,"multiSelection",!1),o(s.options,"nodeChildren","children"),o(s.options,"dirSelectable","true"),o(s.options,"injectClasses",{}),o(s.options.injectClasses,"ul",""),o(s.options.injectClasses,"li",""),o(s.options.injectClasses,"liSelected",""),o(s.options.injectClasses,"iExpanded",""),o(s.options.injectClasses,"iCollapsed",""),o(s.options.injectClasses,"iLeaf",""),o(s.options.injectClasses,"label",""),o(s.options.injectClasses,"labelSelected",""),o(s.options,"equality",c),o(s.options,"isLeaf",d),o(s.options,"allowDeselect",!0),o(s.options,"isSelectable",u),s.selectedNodes=s.selectedNodes||[],s.expandedNodes=s.expandedNodes||[],s.expandedNodesMap={};for(var f=0;f<s.expandedNodes.length;f++)s.expandedNodesMap[""+f]=s.expandedNodes[f];s.parentScopeOfTree=s.$parent,s.headClass=function(e){var n=t(s.options.injectClasses.liSelected,!1),o="";return n&&p(e)&&(o=" "+n),s.options.isLeaf(e)?"folder"==e.type?"tree-leaf-folder"+o:"tree-leaf"+o:s.expandedNodesMap[this.$id]?"tree-expanded"+o:"tree-collapsed"+o},s.iBranchClass=function(){return t(s.expandedNodesMap[this.$id]?s.options.injectClasses.iExpanded:s.options.injectClasses.iCollapsed)},s.nodeExpanded=function(){return!!s.expandedNodesMap[this.$id]},s.selectNodeHead=function(){var e=this,n=void 0===s.expandedNodesMap[e.$id];if(s.expandedNodesMap[e.$id]=n?e.node:void 0,n)s.expandedNodes.push(e.node);else{for(var t,o=0;o<s.expandedNodes.length&&!t;o++)s.options.equality(s.expandedNodes[o],e.node)&&(t=o);void 0!==t&&s.expandedNodes.splice(t,1)}if(s.onNodeToggle){var i=e.$parent.node===e.synteticRoot?null:e.$parent.node;s.onNodeToggle({node:e.node,$parentNode:i,$index:e.$index,$first:e.$first,$middle:e.$middle,$last:e.$last,$odd:e.$odd,$even:e.$even,expanded:n})}},s.selectNodeLabel=function(e,n){var t=this;if(s.options.isLeaf(e)||s.options.dirSelectable&&s.options.isSelectable(e)){if(s.options.isLeaf(e)&&!s.options.isSelectable(e))return;var o=!1;if(s.options.multiSelection){for(var i=-1,r=0;r<s.selectedNodes.length;r++)if(s.options.equality(e,s.selectedNodes[r])){i=r;break}i===-1?(s.selectedNodes.push(e),o=!0):s.selectedNodes.splice(i,1)}else s.options.equality(e,s.selectedNode)&&s.options.allowDeselect?s.selectedNode=void 0:(s.selectedNode=e,o=!0);if(s.onSelection){var l=t.$parent.node===t.synteticRoot?null:t.$parent.node;s.onSelection({node:e,selected:o,$parentNode:l,$event:n,$index:t.$index,$first:t.$first,$middle:t.$middle,$last:t.$last,$odd:t.$odd,$even:t.$even})}}else this.selectNodeHead()},s.selectedClass=function(){var e=p(this.node),n=t(s.options.injectClasses.labelSelected,!1),o="";return n&&e&&(o=" "+n),e?"tree-selected"+o:""},s.unselectableClass=function(){var e=!s.options.isSelectable(this.node),n=t(s.options.injectClasses.labelUnselectable,!1);return e?"tree-unselectable "+n:""},s.isReverse=function(){return!("false"===s.reverseOrder||"False"===s.reverseOrder||""===s.reverseOrder||s.reverseOrder===!1)},s.orderByFunc=function(){return"'"+s.orderBy+"'"};var m,v={orderBy:s.orderBy?" | orderBy:orderByFunc():isReverse()":"",ulClass:t(s.options.injectClasses.ul,!0),nodeChildren:s.options.nodeChildren,liClass:t(s.options.injectClasses.li,!0),iLeafClass:t(s.options.injectClasses.iLeaf,!1),labelClass:t(s.options.injectClasses.label,!1)},h=s.options.templateUrl||l.templateUrl;h&&(m=i.get(h)),m||(m='<ul {{options.ulClass}} ><li ng-repeat="node in node.{{options.nodeChildren}} | filter:filterExpression:filterComparator {{options.orderBy}}" ng-class="headClass(node)" {{options.liClass}}set-node-to-data><i class="tree-branch-head" ng-class="iBranchClass()" ng-click="selectNodeHead(node)"></i><i class="tree-leaf-head {{options.iLeafClass}}" ></i><div class="tree-label {{options.labelClass}}" ng-class="[selectedClass(), unselectableClass()]" ng-mousedown="selectNodeLabel(node,$event)" tree-transclude></div><treeitem ng-if="nodeExpanded()"></treeitem></li></ul>'),this.template=n(r(m)({options:v}))}],compile:function(n,t,o){return function(n,t,s,i){n.$watch("treeModel",function(t){if(e.isArray(t)){if(e.isDefined(n.node)&&e.equals(n.node[n.options.nodeChildren],t))return;n.node={},n.synteticRoot=n.node,n.node[n.options.nodeChildren]=t}else{if(e.equals(n.node,t))return;n.node=t}}),n.$watchCollection("expandedNodes",function(o,s){var i=0,r={},l=t.find("li"),d=[];e.forEach(l,function(n){var t=e.element(n),o={$id:t.data("scope-id"),node:t.data("node")};d.push(o)}),e.forEach(o,function(e){for(var t=!1,o=0;o<d.length&&!t;o++){var s=d[o];n.options.equality(e,s.node)&&(r[s.$id]=s.node,t=!0)}t||(r[i++]=e)}),n.expandedNodesMap=r}),i.template(n,function(e){t.html("").append(e)}),n.$treeTransclude=o}}}}]).directive("setNodeToData",["$parse",function(e){return{restrict:"A",link:function(e,n,t){n.data("node",e.node),n.data("scope-id",e.$id)}}}]).directive("treeitem",function(){return{restrict:"E",require:"^treecontrol",link:function(e,n,t,o){o.template(e,function(e){n.html("").append(e)})}}}).directive("treeTransclude",function(){return{link:function(n,t,o,s){if(n.options.isLeaf(n.node)||e.forEach(n.expandedNodesMap,function(e,t){n.options.equality(e,n.node)&&(n.expandedNodesMap[n.$id]=n.node,n.expandedNodesMap[t]=void 0)}),!n.options.multiSelection&&n.options.equality(n.node,n.selectedNode))n.selectedNode=n.node;else if(n.options.multiSelection){for(var i=[],r=0;r<n.selectedNodes.length;r++)n.options.equality(n.node,n.selectedNodes[r])&&i.push(n.node);n.selectedNodes=i}n.transcludeScope=n.parentScopeOfTree.$new(),n.transcludeScope.node=n.node,n.transcludeScope.$parentNode=n.$parent.node===n.synteticRoot?null:n.$parent.node,n.transcludeScope.$index=n.$index,n.transcludeScope.$first=n.$first,n.transcludeScope.$middle=n.$middle,n.transcludeScope.$last=n.$last,n.transcludeScope.$odd=n.$odd,n.transcludeScope.$even=n.$even,n.$on("$destroy",function(){n.transcludeScope.$destroy()}),n.$treeTransclude(n.transcludeScope,function(e){t.empty(),t.append(e)})}}})}(angular),angular.module("ng-context-menu",[]).factory("ContextMenuService",function(){return{element:null,menuElement:null}}).directive("contextMenu",["$document","ContextMenuService",function(e,n){return{restrict:"A",scope:{callback:"&contextMenu",disabled:"&contextMenuDisabled",closeCallback:"&contextMenuClose"},link:function(t,o,s){function i(n,t){t.addClass("open");var o=e[0].documentElement,s=(window.pageXOffset||o.scrollLeft)-(o.clientLeft||0),i=(window.pageYOffset||o.scrollTop)-(o.clientTop||0),r=t[0].scrollWidth,l=t[0].scrollHeight,d=o.clientWidth+s,c=o.clientHeight+i,u=r+n.pageX,p=l+n.pageY,f=Math.max(n.pageX-s,0),m=Math.max(n.pageY-i,0);u>d&&(f-=u-d),p>c&&(m-=p-c),t.css("top",m+"px"),t.css("left",f+"px"),a=!0}function r(e){e.removeClass("open"),a&&t.closeCallback(),a=!1}function l(e){!t.disabled()&&a&&27===e.keyCode&&t.$apply(function(){r(n.menuElement)})}function d(e){t.disabled()||!a||2===e.button&&e.target===n.element||t.$apply(function(){r(n.menuElement)})}var a=!1;o.bind("contextmenu",function(e){t.disabled()||(null!==n.menuElement&&r(n.menuElement),n.menuElement=angular.element(document.getElementById(s.target)),n.element=e.target,e.preventDefault(),e.stopPropagation(),t.$apply(function(){t.callback({$event:e})}),t.$apply(function(){i(e,n.menuElement)}))}),e.bind("keyup",l),e.bind("click",d),e.bind("contextmenu",d),t.$on("$destroy",function(){e.unbind("keyup",l),e.unbind("click",d),e.unbind("contextmenu",d)})}}}]),function(e,n){"function"==typeof define&&define.amd?define(n):"object"==typeof exports?module.exports=n():e.NProgress=n()}(this,function(){function e(e,n,t){return e<n?n:e>t?t:e}function n(e){return 100*(-1+e)}function t(e,t,o){var s;return s="translate3d"===a.positionUsing?{transform:"translate3d("+n(e)+"%,0,0)"}:"translate"===a.positionUsing?{transform:"translate("+n(e)+"%,0)"}:{"margin-left":n(e)+"%"},s.transition="all "+t+"ms "+o,s}function o(e,n){var t="string"==typeof e?e:r(e);return t.indexOf(" "+n+" ")>=0}function s(e,n){var t=r(e),s=t+n;o(t,n)||(e.className=s.substring(1))}function i(e,n){var t,s=r(e);o(e,n)&&(t=s.replace(" "+n+" "," "),e.className=t.substring(1,t.length-1))}function r(e){return(" "+(e.className||"")+" ").replace(/\s+/gi," ")}function l(e){e&&e.parentNode&&e.parentNode.removeChild(e)}var d={};d.version="0.1.6";var a=d.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};d.configure=function(e){var n,t;for(n in e)t=e[n],void 0!==t&&e.hasOwnProperty(n)&&(a[n]=t);return this},d.status=null,d.set=function(n){var o=d.isStarted();n=e(n,a.minimum,1),d.status=1===n?null:n;var s=d.render(!o),i=s.querySelector(a.barSelector),r=a.speed,l=a.easing;return s.offsetWidth,c(function(e){""===a.positionUsing&&(a.positionUsing=d.getPositioningCSS()),u(i,t(n,r,l)),1===n?(u(s,{transition:"none",opacity:1}),s.offsetWidth,setTimeout(function(){u(s,{transition:"all "+r+"ms linear",opacity:0}),setTimeout(function(){d.remove(),e()},r)},r)):setTimeout(e,r)}),this},d.isStarted=function(){return"number"==typeof d.status},d.start=function(){d.status||d.set(0);var e=function(){setTimeout(function(){d.status&&(d.trickle(),e())},a.trickleSpeed)};return a.trickle&&e(),this},d.done=function(e){return e||d.status?d.inc(.3+.5*Math.random()).set(1):this},d.inc=function(n){var t=d.status;return t?("number"!=typeof n&&(n=(1-t)*e(Math.random()*t,.1,.95)),t=e(t+n,0,.994),d.set(t)):d.start()},d.trickle=function(){return d.inc(Math.random()*a.trickleRate)},function(){var e=0,n=0;d.promise=function(t){return t&&"resolved"!=t.state()?(0==n&&d.start(),e++,n++,t.always(function(){n--,0==n?(e=0,d.done()):d.set((e-n)/e)}),this):this}}(),d.render=function(e){if(d.isRendered())return document.getElementById("nprogress");s(document.documentElement,"nprogress-busy");var t=document.createElement("div");t.id="nprogress",t.innerHTML=a.template;var o,i=t.querySelector(a.barSelector),r=e?"-100":n(d.status||0),c=document.querySelector(a.parent);return u(i,{transition:"all 0 linear",transform:"translate3d("+r+"%,0,0)"}),a.showSpinner||(o=t.querySelector(a.spinnerSelector),o&&l(o)),c!=document.body&&s(c,"nprogress-custom-parent"),c.appendChild(t),t},d.remove=function(){i(document.documentElement,"nprogress-busy"),i(document.querySelector(a.parent),"nprogress-custom-parent");var e=document.getElementById("nprogress");e&&l(e)},d.isRendered=function(){return!!document.getElementById("nprogress")},d.getPositioningCSS=function(){var e=document.body.style,n="WebkitTransform"in e?"Webkit":"MozTransform"in e?"Moz":"msTransform"in e?"ms":"OTransform"in e?"O":"";return n+"Perspective"in e?"translate3d":n+"Transform"in e?"translate":"margin"};var c=function(){function e(){var t=n.shift();t&&t(e)}var n=[];return function(t){n.push(t),1==n.length&&e()}}(),u=function(){function e(e){return e.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(e,n){return n.toUpperCase()})}function n(e){var n=document.body.style;if(e in n)return e;for(var t,o=s.length,i=e.charAt(0).toUpperCase()+e.slice(1);o--;)if(t=s[o]+i,t in n)return t;return e}function t(t){return t=e(t),i[t]||(i[t]=n(t))}function o(e,n,o){n=t(n),e.style[n]=o}var s=["Webkit","O","Moz","ms"],i={};return function(e,n){var t,s,i=arguments;if(2==i.length)for(t in n)s=n[t],void 0!==s&&n.hasOwnProperty(t)&&o(e,t,s);else o(e,i[1],i[2])}}();return d});